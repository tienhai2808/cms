{% for message in messages %}
<div class="message info" date-time="5000" show-alert>
  {% if message.tags == 'success' %}
  <div class="alert alert-success d-flex gap-2 align-items-center">
    <i class="fa-solid fa-check" style="color: green;"></i>
    <span>{{message}}</span>
    <div class="close-alert" style="font-size: 18px; color: red; cursor: pointer;">
      <i class="fa-regular fa-circle-xmark"></i>
    </div>
  </div>
  {% elif message.tags == 'error' %}
  <div class="alert alert-danger d-flex gap-2 align-items-center">
    <i class="fa-solid fa-bug" style="color: red;"></i>
    <span>{{message}}</span>
    <div class="close-alert" style="font-size: 18px; color: red; cursor: pointer;">
      <i class="fa-regular fa-circle-xmark"></i>
    </div>
  </div>
  {% elif message.tags == 'warning' %}
  <div class="alert alert-warning d-flex gap-2 align-items-center">
    <i class="fa-solid fa-triangle-exclamation" style="color: rgb(255, 204, 0);"></i>
    <span>{{message}}</span>
    <div class="close-alert" style="font-size: 18px; color: red; cursor: pointer;">
      <i class="fa-regular fa-circle-xmark"></i>
    </div>
  </div>
  {% else %}
  <div class="alert alert-info d-flex gap-2 align-items-center">
    <i class="fa-solid fa-info" style="color: rgb(0, 191, 255);"></i>
    <span>{{message}}</span>
    <div class="close-alert" style="font-size: 18px; color: red; cursor: pointer;">
      <i class="fa-regular fa-circle-xmark"></i>
    </div>
  </div>
  {% endif %}
</div>
{% endfor %}

<style>
  [show-alert] {
    position: fixed;
    top: 120px;
    right: 15px;
    z-index: 9999;
  }

  [show-alert].alert-hidden {
    animation-name: alert-hidden;
    animation-duration: 0.5s;
    animation-fill-mode: both;
  }
  
  @keyframes alert-hidden {
    from {
      right: 15px;
    } to {
      right: -100%;
      display: none;
    }
  }

  .close-alert {
    font-size: 18px;
    color: red;
    cursor: pointer;
  }
</style>

<script>
  const showAlert = document.querySelectorAll("[show-alert]")
  if (showAlert.length > 0) {
    showAlert.forEach((alert) => {
      const closeAlert = alert.querySelector('.close-alert')
      setTimeout (() => {
        alert.classList.add("alert-hidden")
      }, 5000)
      closeAlert.addEventListener('click', () => {
        alert.classList.add("alert-hidden")
      })
    })
  }
</script>